# üîñ Data puzzles secrets

<script src="files/js/dcl.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

```{r ,include=FALSE}
tutorial::go_interactive()
```

- **Lecture slides: **     <button class="btn btn-primary" data-toggle="collapse" data-target="#freestyle12">Data Exploration</button>
<div id="freestyle12" class="collapse">    
<embed src="https://docs.google.com/presentation/d/1wvWxu_DEEoYNq0qKEkepbqu2-x0SGsXGQiE2iWbv2Iw/edit?usp=sharing" width="100%" height="500px"></embed>
</div>

## Moody Data Puzzle

```{r,echo=FALSE}
# moody<-read.csv("../files/dataset/moody2020b.csv") #static Load
moody<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv") #web load
# head(moody)
temp<-knitr::kable(
  head(moody, 5), caption = 'Snippet of Moody Dataset',
  booktabs = TRUE
)
library(kableExtra)
kableExtra::scroll_box(temp,width = "100%")
```
<br>
Moody Data Puzzle is our first example of a data puzzle. By data puzzles we mean synthetically generated data sets which have some embedded patterns. Your goal is to find the embedded pattern(s). You may also find patterns similar  (implied) by patterns embedded in the data puzzle. This is fine too. The goal of data puzzles is to excite you about exploratory data analysis. In many ways it is like a game.

**Puzzle description:**

Professor Moody has been teaching statistics 101 class for many years. His teaching evaluations went considerably south with the chief complaint:  he DOES NOT seem to assign grades fairly.   Students compared their scores among themselves and found quite a bit of discrepancies! But their complaints went nowhere since Professor promptly disappeared after posting the final grades and scores.

A new brave TA,  managed to get hold of the carefully maintained grading table (spanning multiple years) of professor Moody by ‚Ä¶.messing a bit with Moody's computer‚Ä¶.well,  let's not explain the details because he would get in trouble. What he found out was a remarkably structured account of how professor Moody assigns his grades.  

Looks like Professor Moody is in fact very alert in class. He is aware of  what students do,  detecting texting during class and remembering exactly who was dozed off in  class.  He also keeps the mysterious "participation index" which is a numerical score from 0 to 1. This is probably related to questions asked and answered by students as well as their general attentiveness in class.  Remarkable but a little creepy, isn't it?

What is the best advice the new TA, can give future students how to get a good grade in Professor Moody's class? What factors influence the grade besides the score? Back your recommendation up with plots and evidence from the attached data.

**What are examples of patterns we are looking for here?**   

Here are some:

- ‚ÄúStudents who text a lot‚Äù have lower chance to get an A in the class‚Äù
- ‚ÄúStudents whose participation is lower than 0.25 fail the class more often‚Äù
- ‚ÄúDozing off does not matter if your score is more than 90, you still get an A‚Äù
- ‚ÄúIf you score is less than 30, you fail the class regardless of what your other attributes are‚Äù

### Secrets Revealed- Patterns in Professor Moody's data? 

<button class="btn btn-primary" data-toggle="collapse" data-target="#MDP12">My Patterns</button>
<div id="MDP12" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/HW3-Moody-My-patterns.pptx&embedded=true" width="100%" height="500px"></embed>
</div>
<br>
Many student solutions falsely attribute higher grades to higher values of participation attribute..  

This is a classic example of a hidden variable described in the reference attached below. 

The truth is that participation attribute value impacts the  score  attribute value. Generally, the higher the participation in Moody‚Äôs class, the higher the score.  But it is the  score attribute which has a direct impact on the grade. Thus, it is the score which is  the real "hidden variable" impacting  the final grade. 

Thus, the score already reflects participation. Professor Moody seemed to look only at texting and dozing off attributes in grade determination (see the power points above  with the explanation) 


Compare with examples of hidden variables in the following reference about correlation and causation.

https://www.stewartmath.com/precalc_7e_dp/precalc_7e_dp6.html


### Best Student's Submissions 2022

<button class="btn btn-primary" data-toggle="collapse" data-target="#PPT2021">Lauretta Martin</button>
<button class="btn btn-primary" data-toggle="collapse" data-target="#PPT2020">Sanjaya Budhathoki</button>
<button class="btn btn-primary" data-toggle="collapse" data-target="#PPT2019">Sandhya Senthilkumar</button>

<div id="PPT2021" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/LM-HW3.pdf&embedded=true" width="100%" height="500px"></embed>
</div>

<div id="PPT2020" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/SB-HW3.pdf&embedded=true" width="100%" height="500px"></embed>
</div>

<div id="PPT2019" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/HW3-SS.pptx&embedded=true" width="100%" height="500px"></embed>
</div>
<!--
#### Snippet 1

```{r,tut=TRUE,height=300}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")


```

#### Snippet 2

```{r,tut=TRUE,height=300}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

```

#### Snippet 3

```{r,tut=TRUE,height=300}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

```

#### Snippet 4

```{r,tut=TRUE,height=300}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

```

#### Snippet 5

```{r,tut=TRUE,height=300}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

```
-->


<!--
#### Snippet 1

Lets look at the general distribution of Grades and scores

```{r,tut=TRUE,height=400}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

#Barplot General Grade distribution
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(moody2022$GRADE), col = colors, main = 'General Grade Distribution',
        ylab = 'Number of students', xlab = 'Letter Grade')

#Boxplot grade distribution by score
colors<- c('red','blue','cyan','yellow','green', 'orange')
boxplot(SCORE~GRADE, data=moody2022, xlab = "Letter Grade", ylab="Score", 
        main="Distribution of Scores by Grade", col = colors, border = "black")

```

#### Snippet 2

Does Texting affect grades?

```{r,tut=TRUE,height=600}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

#barplot using varibale always TEXTING_IN_CLASS
alwaysTexting <- moody2022[which(moody2022$TEXTING_IN_CLASS == 'always'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(alwaysTexting$GRADE), col = colors, 
        main = 'Grade Distribution for student always texting', xlab = 'letter Grade',
        ylab = 'Number of Students')

#barplot using varibale sometimes TEXTING_IN_CLASS
sometimesTexting <- moody2022[which(moody2022$TEXTING_IN_CLASS == 'sometimes'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(sometimesTexting$GRADE), col = colors, 
        main = 'Grade Distribution for student sometimes texting', xlab = 'letter Grade',
        ylab = 'Number of Students')

#barplot using varibale rarely TEXTING_IN_CLASS
rarelyTexting <- moody2022[which(moody2022$TEXTING_IN_CLASS == 'rarely'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(rarelyTexting$GRADE), col = colors, 
        main = 'Grade Distribution for student rarely texting', xlab = 'letter Grade',
        ylab = 'Number of Students')

#barplot using varibale never TEXTING_IN_CLASS
neverTexting <- moody2022[which(moody2022$TEXTING_IN_CLASS == 'never'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(neverTexting$GRADE), col = colors, 
        main = 'Grade Distribution for student never texting', xlab = 'letter Grade',
        ylab = 'Number of Students')

```

#### Snippet 3

Does Dozing off affect grades?

```{r,tut=TRUE,height=600}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

#barplot using varibale always Dozing_off
alwaysDozes <- moody2022[which(moody2022$DOZES_OFF == 'always'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(alwaysDozes$GRADE), col = colors, 
        main = 'Grade Distribution for student always Dozing', xlab = 'letter Grade',
        ylab = 'Number of Students')

#barplot using varibale rarely Dozing_off
rarelyDozes <- moody2022[which(moody2022$DOZES_OFF == 'rarely'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(rarelyDozes$GRADE), col = colors, 
        main = 'Grade Distribution for student rarely Dozing', xlab = 'letter Grade',
        ylab = 'Number of Students')

#barplot using varibale sometimes Dozing_off
sometimesDozes <- moody2022[which(moody2022$DOZES_OFF == 'sometimes'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(sometimesDozes$GRADE), col = colors, 
        main = 'Grade Distribution for student sometimes Dozing', xlab = 'letter Grade',
        ylab = 'Number of Students')

#barplot using varibale nevers Dozing_off
neverDozes <- moody2022[which(moody2022$DOZES_OFF == 'never'), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(neverDozes$GRADE), col = colors, 
        main = 'Grade Distribution for student never Dozing', xlab = 'letter Grade',
        ylab = 'Number of Students')


```

#### Snippet 4

Does Particiaption affect grades?

```{r,tut=TRUE,height=500}
moody2022 <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

#barplot using varibale 0-0.5 Participation
lessParticipation <- moody2022[which(moody2022$PARTICIPATION >= 0 & moody2022$PARTICIPATION < 0.5), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(lessParticipation$GRADE), col = colors, 
        main = 'Grade Distribution for student with low Participation', xlab = 'Letter Grade',
        ylab = 'Number of Students')

#barplot using varibale 0.5-1 Participation
highParticipation <- moody2022[which(moody2022$PARTICIPATION >= 0.5 & moody2022$PARTICIPATION <= 1), ]
colors<- c('red','blue','cyan','yellow','green', 'orange')
barplot(table(highParticipation$GRADE), col = colors, 
        main = 'Grade Distribution for student with high Participation', xlab = 'Letter Grade',
        ylab = 'Number of Students')
```
-->


<!--
#### Snippet 1

Does participation affect grade or score?

```{r,tut=TRUE,height=400}
moody <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

barplot(table(moody$GRADE), col=rainbow(5), main="Bar Plot of Grades", xlab = "Grades", ylab = "Number of Students", 
        border=NA, ylim=c(0, 200))


boxplot(moody$PARTICIPATION~moody$GRADE, main = "Participation vs. Grade", xlab = "Participation", ylab = "Grade", 
        col = rainbow(5))


boxplot(moody$SCORE~moody$GRADE, main = "Scores vs. Grades", col = rainbow(5), xlab = "Grades", 
        ylab = "Number of Students", ylim=c(0, 120))


plot(moody$PARTICIPATION, moody$SCORE, main = "Participation vs. Score", xlab = "Participation", ylab = "Score", 
     col = "blue")

```

#### Snippet 2

Does Dozing off affect grades?

```{r,tut=TRUE,height=400}
moody <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

barplot(table(moody$GRADE[moody$DOZES_OFF == "never"]), col=rainbow(5), main="Grades vs. Never Sleeping in Class", 
        xlab = "Grades", ylab = "Number of Students", border=NA, ylim=c(0, 200))

barplot(table(moody$GRADE[moody$DOZES_OFF == "sometimes"]), col=rainbow(5), main="Grades vs. Sometimes Sleeping in Class", 
        xlab = "Grades", ylab = "Number of Students", border=NA, ylim=c(0, 200))

barplot(table(moody$GRADE[moody$DOZES_OFF == "always"]), col=rainbow(5), main="Grades vs. Always Sleeping in Class", 
        xlab = "Grades", ylab = "Number of Students", border=NA, ylim=c(0, 200))

```

#### Snippet 3

Does Texting in class affect grades?

```{r,tut=TRUE,height=400}
moody <- read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/moody2022_new.csv")

barplot(table(moody$GRADE[moody$TEXTING_IN_CLASS == "never"]), col=rainbow(5), main="Grades vs. Never Texting in Class", 
        xlab = "Grades", ylab = "Number of Students", border=NA, ylim=c(0, 200))

barplot(table(moody$GRADE[moody$TEXTING_IN_CLASS == "rarely"]), col=rainbow(5), main="Grades vs. Rarely Texting in Class", 
        xlab = "Grades", ylab = "Number of Students", border=NA, ylim=c(0, 200))

barplot(table(moody$GRADE[moody$TEXTING_IN_CLASS == "always"]), col=rainbow(5), main="Grades vs. Always Texting in Class", 
        xlab = "Grades", ylab = "Number of Students", border=NA, ylim=c(0, 200))

```
-->

## Movies Data Hunt

```{r,echo=FALSE}
# moody<-read.csv("../files/dataset/moody2020b.csv") #static Load
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv") #web load
# head(moody)
temp<-knitr::kable(
  movies[sample(1:nrow(movies),5), ], caption = 'Snippet of Movies Dataset',
  booktabs = TRUE
)
library(kableExtra)
kableExtra::scroll_box(temp,width = "100%")
```
<br>
**Puzzle description:**

contains  imdb scores of 12,800+ movies  along with several attributes including budget, gross  genre, content rating etc.

What are the most promising  alternative hypotheses  about imdb scores to test?  Name your three top candidates along with the evidence which backs them up:  either in the form of R instruction(s)  or plot.

### Secrets Revealed- Patterns in Movies data? 

<button class="btn btn-primary" data-toggle="collapse" data-target="#MV12">Secrets Revealed</button>
<div id="MV12" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/profhw4.pdf&embedded=true" width="100%" height="500px"></embed>
</div>

### Best Student's Submissions 2022

<button class="btn btn-primary" data-toggle="collapse" data-target="#hw41">Joshua Sze</button>
<button class="btn btn-primary" data-toggle="collapse" data-target="#hw42">Andrew Fasano</button>

<div id="hw41" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/student1hw4.pptx&embedded=true" width="100%" height="500px"></embed>
</div>

<div id="hw42" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/studen2hw4.pptx&embedded=true" width="100%" height="500px"></embed>
</div>

## Minimarket Data Hunt 

```{r,echo=FALSE}
# moody<-read.csv("../files/dataset/moody2020b.csv") #static Load
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Minimarket.csv") #web load
# head(moody)
temp<-knitr::kable(
  movies[sample(1:nrow(movies),5), ], caption = 'Snippet of Minimarket Dataset',
  booktabs = TRUE
)
library(kableExtra)
kableExtra::scroll_box(temp,width = "100%")
```
<br>
**Puzzle description:**

Each row of Minimarket.csv contains one customer transaction which is represented as binary vector (treat this as NUM values). 1 means that customer bought an item, 0 - means that customer did not but that item. For example if customer bought Bread but did not buy Butter you will see 1 in the Bread column and 0 in the Butter column.

**Summary**

Here's what you'd do: <br>
1. Come up with a null hypothesis: "Bread does not impact the sales of butter" <br>
2. Come up with an alternative hypothesis: "Bread impacts the sale of butter" <br>
3. Compute the mean value of the Butter column for all the rows where Bread value = 0. Let's say this is mean1.<br>
4. Compute the mean value of the Butter column for all the rows where Bread value = 1. Let's say this is mean2.


### What were the secret associations  between  items in the minimarket?

<button class="btn btn-primary" data-toggle="collapse" data-target="#MV12">Secrets Revealed</button>
<div id="MV12" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/ecrets-revealed-prediction-minimarket.pptx&embedded=true" width="100%" height="500px"></embed>
</div>

## Predicting grades in Professor Moody's class



### How did I cook the Professor Moody Prediction challenge data? 

<button class="btn btn-primary" data-toggle="collapse" data-target="#MV13">Secrets Revealed</button>
<div id="MV13" class="collapse">    
<embed src="https://docs.google.com/viewer?url=https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/pred/Secrets-revealed-prediction-challenge.pptx&embedded=true" width="100%" height="500px"></embed>
</div>
