# Code Review: Exploratory Queries in R {#cr}

<script src="files/js/dcl.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

```{r ,include=FALSE}
tutorial::go_interactive(greedy = FALSE)

```

## Movies Dataset Example 
### Snippet 1: What is the mean imdb of low budget comedies?


```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

mean(movies[movies$Budget=='Low' & movies$genre=='Comedy', ]$imdb_score)

```

### Snippet 2: What is standard deviation of imdb score of  high gross Family movies?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

sd(movies[movies$Gross=='High' & movies$genre =='Family',]$imdb)

```

### Snippet 3: What is the lowest imdb score among high budget movies?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

min(movies[movies$Budget=='High',]$imdb)

```

### Snippet 4: How many low budget movies generated high gross income?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

nrow(movies[movies$Budget=='Low' & movies$Gross =='High',])

```

### Snippet 5: What is imdb score of the first non-US movie in the movies data frame?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

#You can use this simple command to quickly find out
head(movies[movies$country!='USA', ]$imdb_score)

```

### Snippet 6: What is the least frequent genre among UK movies?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

#You can use this code to find out
table(movies[movies$country=='UK',]$genre, movies[movies$country=='UK',]$country)

```

### Snippet 7: Which content rating has the lowest average imdb score?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

#You can use this code to find out
tapply(movies$imdb, movies$content, mean)

```

### Snippet 8: Movies from which country have the smallest average imdb score?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

#Better compute it, since there are too many countries for visual inspection
MA<-aggregate(movies$imdb_score, list(movies$country), mean)
colnames(MA)<-c("Country", "Mimdb")
MA<-MA[order(-MA$Mimdb), ]
MA[1,]
```

### Snippet 9: What is the least frequent genre in movies data frame?

```{r,tut=TRUE,height=300}
movies<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/Movies2022F-4.csv")

z<-table(movies$genre)
sort(z,decreasing=FALSE)[1]
```

### Snippet 10: z value = 2.4, whats the p-value?

```{r,tut=TRUE,height=300}

1-pnorm(2.4)

```

## Census Dataset Example

### Snippet 11: Which “years of education” has the highest average capital loss with years should be less than 17?

```{r,tut=TRUE,height=300}
census_data<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/CensusData.csv")

example11_data = subset(census_data, (YEARS <= 16))
example11_data = tapply(example11_data$CAPITALLOSS, example11_dataata$YEARS, mean)
example11_data
```

### Snippet 12: Who has higher average capital gains; Handlers-cleaners or Tech-support?

```{r,tut=TRUE,height=300}
census_data<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/CensusData.csv")

example12_data = tapply(census_data$CAPITALGAIN, census_data$PROFESSION, mean)
example12_data
```

### Snippet 13: What is most frequent profession for people under 10 years of education?

```{r,tut=TRUE,height=300}
census_data<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/CensusData.csv")

example13_data = table(subset(census_data, YEARS <= 10)$PROFESSION)
example13_data
```

### Snippet 14: What is minimum years of education for Prof-specialty?

```{r,tut=TRUE,height=300}
census_data<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/CensusData.csv")

example14_data = table(subset(census_data, PROFESSION == "Prof-specialty")$EDUCATION)
example14_data
```

### Snippet 15: What is the most frequent degree for US?

```{r,tut=TRUE,height=300}
census_data<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/CensusData.csv")

example15_data = table(subset(census_data, NATIVE == "United-States")$EDUCATION)
example15_data
```

### Snippet 16: what is the least frequent degree for people with at least 12 years of education?

```{r,tut=TRUE,height=300}
census_data<-read.csv("https://raw.githubusercontent.com/dev7796/data101_tutorial/main/files/dataset/CensusData.csv")

example16_data = table(subset(census_data, YEARS >= 12)$EDUCATION)
example16_data
```

