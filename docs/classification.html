<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data Modeling and Prediction techniques for Classification. | DATA 101 Shortest Textbook</title>
  <meta name="description" content="This is a example of a interactive book for DATA 101 Course thought by Prof. Tomasz Imielinski (http://data101.cs.rutgers.edu/) Find the demo site at (https://dev7796.github.io/Data101_TextBook/) Published using Bookdown for R." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data Modeling and Prediction techniques for Classification. | DATA 101 Shortest Textbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a example of a interactive book for DATA 101 Course thought by Prof. Tomasz Imielinski (http://data101.cs.rutgers.edu/) Find the demo site at (https://dev7796.github.io/Data101_TextBook/) Published using Bookdown for R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data Modeling and Prediction techniques for Classification. | DATA 101 Shortest Textbook" />
  
  <meta name="twitter:description" content="This is a example of a interactive book for DATA 101 Course thought by Prof. Tomasz Imielinski (http://data101.cs.rutgers.edu/) Find the demo site at (https://dev7796.github.io/Data101_TextBook/) Published using Bookdown for R." />
  



<meta name="date" content="2021-08-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="stateval.html"/>
<link rel="next" href="regression.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DATA 101 Book</a>
<a href="https://github.com/dev7796/Data101_TextBook" target="blank">Github Source</a>
</li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#setting-up-r"><i class="fa fa-check"></i><b>1.1</b> Setting Up R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dataexp.html"><a href="dataexp.html"><i class="fa fa-check"></i><b>2</b> Data Exploration</a>
<ul>
<li class="chapter" data-level="2.1" data-path="dataexp.html"><a href="dataexp.html#plots"><i class="fa fa-check"></i><b>2.1</b> Plots</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="dataexp.html"><a href="dataexp.html#scatter-plot"><i class="fa fa-check"></i><b>2.1.1</b> Scatter Plot</a></li>
<li class="chapter" data-level="2.1.2" data-path="dataexp.html"><a href="dataexp.html#bar-plot"><i class="fa fa-check"></i><b>2.1.2</b> Bar Plot</a></li>
<li class="chapter" data-level="2.1.3" data-path="dataexp.html"><a href="dataexp.html#box-plot"><i class="fa fa-check"></i><b>2.1.3</b> Box Plot</a></li>
<li class="chapter" data-level="2.1.4" data-path="dataexp.html"><a href="dataexp.html#mosaic-plot"><i class="fa fa-check"></i><b>2.1.4</b> Mosaic Plot</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="dataexp.html"><a href="dataexp.html#freestyle"><i class="fa fa-check"></i><b>2.2</b> Free Style data exploration with just seven R commands " R.7 "</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="dataexp.html"><a href="dataexp.html#subset"><i class="fa fa-check"></i><b>2.2.1</b> Subset</a></li>
<li class="chapter" data-level="2.2.2" data-path="dataexp.html"><a href="dataexp.html#table"><i class="fa fa-check"></i><b>2.2.2</b> Table</a></li>
<li class="chapter" data-level="2.2.3" data-path="dataexp.html"><a href="dataexp.html#tapply"><i class="fa fa-check"></i><b>2.2.3</b> tapply</a></li>
<li class="chapter" data-level="2.2.4" data-path="dataexp.html"><a href="dataexp.html#dataframe"><i class="fa fa-check"></i><b>2.2.4</b> data.frame()</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="dataexp.html"><a href="dataexp.html#Moodyexplaination"><i class="fa fa-check"></i><b>2.3</b> Professor Moody Puzzle</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="stateval.html"><a href="stateval.html"><i class="fa fa-check"></i><b>3</b> p-value: Simple Statistical Evaluation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="stateval.html"><a href="stateval.html#permtest"><i class="fa fa-check"></i><b>3.1</b> Permutation Test</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="stateval.html"><a href="stateval.html#permonestep"><i class="fa fa-check"></i><b>3.1.1</b> Permutation Test One Step</a></li>
<li class="chapter" data-level="3.1.2" data-path="stateval.html"><a href="stateval.html#permfunction"><i class="fa fa-check"></i><b>3.1.2</b> Permutation Function</a></li>
<li class="chapter" data-level="3.1.3" data-path="stateval.html"><a href="stateval.html#aniceexample"><i class="fa fa-check"></i><b>3.1.3</b> Exercise - How p-value is affected by difference of means and standard deviations</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="stateval.html"><a href="stateval.html#bonferroni"><i class="fa fa-check"></i><b>3.2</b> Multiple Hypothesis - Bonferroni Correction.</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="stateval.html"><a href="stateval.html#examples-for-multiple-hypothesis-testing."><i class="fa fa-check"></i><b>3.2.1</b> Examples for Multiple hypothesis testing.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>4</b> Data Modeling and Prediction techniques for Classification.</a>
<ul>
<li class="chapter" data-level="4.1" data-path="classification.html"><a href="classification.html#decisiontree"><i class="fa fa-check"></i><b>4.1</b> Decision Tree.</a></li>
<li class="chapter" data-level="4.2" data-path="classification.html"><a href="classification.html#rpart"><i class="fa fa-check"></i><b>4.2</b> Use of Rpart</a></li>
<li class="chapter" data-level="4.3" data-path="classification.html"><a href="classification.html#rpartplot"><i class="fa fa-check"></i><b>4.3</b> Visualize the Decision tree</a></li>
<li class="chapter" data-level="4.4" data-path="classification.html"><a href="classification.html#rpartcontrol"><i class="fa fa-check"></i><b>4.4</b> Rpart Control</a></li>
<li class="chapter" data-level="4.5" data-path="classification.html"><a href="classification.html#rpartpredict"><i class="fa fa-check"></i><b>4.5</b> Prediction using rpart.</a></li>
<li class="chapter" data-level="4.6" data-path="classification.html"><a href="classification.html#splitdata"><i class="fa fa-check"></i><b>4.6</b> Split the data yourself.</a></li>
<li class="chapter" data-level="4.7" data-path="classification.html"><a href="classification.html#crossvalidation"><i class="fa fa-check"></i><b>4.7</b> Cross Validation</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>5</b> Data Modelling and Prediction techniques for Classification</a>
<ul>
<li class="chapter" data-level="5.1" data-path="regression.html"><a href="regression.html#linear-regression."><i class="fa fa-check"></i><b>5.1</b> Linear Regression.</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="regression.html"><a href="regression.html#lm"><i class="fa fa-check"></i><b>5.1.1</b> Linear regression using lm() function</a></li>
<li class="chapter" data-level="5.1.2" data-path="regression.html"><a href="regression.html#mse"><i class="fa fa-check"></i><b>5.1.2</b> Calculating the Error using mse()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="models.html"><a href="models.html"><i class="fa fa-check"></i><b>6</b> Additional Predition techniques.</a>
<ul>
<li class="chapter" data-level="6.1" data-path="models.html"><a href="models.html#model4step"><i class="fa fa-check"></i><b>6.1</b> Four Line Method for creating most type of prediction models in R</a></li>
<li class="chapter" data-level="6.2" data-path="models.html"><a href="models.html#randomforest"><i class="fa fa-check"></i><b>6.2</b> Random Forest</a></li>
<li class="chapter" data-level="6.3" data-path="models.html"><a href="models.html#svm"><i class="fa fa-check"></i><b>6.3</b> SVM</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="predblogs.html"><a href="predblogs.html"><i class="fa fa-check"></i><b>7</b> Prediction Challenges</a>
<ul>
<li class="chapter" data-level="7.1" data-path="predblogs.html"><a href="predblogs.html#prediction-challenge-1."><i class="fa fa-check"></i><b>7.1</b> Prediction Challenge 1.</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="predblogs.html"><a href="predblogs.html#how-the-data-was-generated-for-challenge-1"><i class="fa fa-check"></i><b>7.1.1</b> How the data was generated for Challenge 1</a></li>
<li class="chapter" data-level="7.1.2" data-path="predblogs.html"><a href="predblogs.html#top-submissions-for-challenge-1."><i class="fa fa-check"></i><b>7.1.2</b> Top Submissions for Challenge 1.</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="predblogs.html"><a href="predblogs.html#prediction-challenge-2."><i class="fa fa-check"></i><b>7.2</b> Prediction Challenge 2.</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="predblogs.html"><a href="predblogs.html#how-the-data-was-generated-for-challenge-2"><i class="fa fa-check"></i><b>7.2.1</b> How the data was generated for Challenge 2</a></li>
<li class="chapter" data-level="7.2.2" data-path="predblogs.html"><a href="predblogs.html#top-submissions-for-challenge-2"><i class="fa fa-check"></i><b>7.2.2</b> Top Submissions for Challenge 2</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="predblogs.html"><a href="predblogs.html#prediction-challenge-3."><i class="fa fa-check"></i><b>7.3</b> Prediction Challenge 3.</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="predblogs.html"><a href="predblogs.html#how-the-data-was-generated-for-challenge-3"><i class="fa fa-check"></i><b>7.3.1</b> How the data was generated for Challenge 3</a></li>
<li class="chapter" data-level="7.3.2" data-path="predblogs.html"><a href="predblogs.html#top-submissions-for-challenge-3"><i class="fa fa-check"></i><b>7.3.2</b> Top Submissions for Challenge 3</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="predblogs.html"><a href="predblogs.html#prediction-challenge-4."><i class="fa fa-check"></i><b>7.4</b> Prediction Challenge 4.</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="predblogs.html"><a href="predblogs.html#how-the-data-was-generated-for-challenge-4"><i class="fa fa-check"></i><b>7.4.1</b> How the data was generated for Challenge 4</a></li>
<li class="chapter" data-level="7.4.2" data-path="predblogs.html"><a href="predblogs.html#top-submissions-for-challenge-4"><i class="fa fa-check"></i><b>7.4.2</b> Top Submissions for Challenge 4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>8</b> Appendix</a>
<ul>
<li class="chapter" data-level="8.1" data-path="dataexp.html"><a href="dataexp.html#dataframe"><i class="fa fa-check"></i><b>8.1</b> c() &amp; data.frame() &amp; class()</a></li>
<li class="chapter" data-level="8.2" data-path="appendix.html"><a href="appendix.html#basicfunction"><i class="fa fa-check"></i><b>8.2</b> summary(), mean(),length(), max(),min(), sd(),nrow(), ncol(), dim()</a></li>
<li class="chapter" data-level="8.3" data-path="appendix.html"><a href="appendix.html#cut"><i class="fa fa-check"></i><b>8.3</b> Cut</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="appendix.html"><a href="appendix.html#questionwhat-would-r-say"><i class="fa fa-check"></i><b>8.3.1</b> QuestionWhat would R say?</a></li>
<li class="chapter" data-level="8.3.2" data-path="appendix.html"><a href="appendix.html#questionwhat-would-r-say-1"><i class="fa fa-check"></i><b>8.3.2</b> QuestionWhat would R say?</a></li>
<li class="chapter" data-level="8.3.3" data-path="appendix.html"><a href="appendix.html#questionwhat-would-r-say-2"><i class="fa fa-check"></i><b>8.3.3</b> QuestionWhat would R say?</a></li>
<li class="chapter" data-level="8.3.4" data-path="appendix.html"><a href="appendix.html#a-complex-example"><i class="fa fa-check"></i><b>8.3.4</b> A complex example</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="appendix.html"><a href="appendix.html#basicexamples"><i class="fa fa-check"></i><b>8.4</b> What would R say?</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="appendix.html"><a href="appendix.html#question"><i class="fa fa-check"></i><b>8.4.1</b> Question</a></li>
<li class="chapter" data-level="8.4.2" data-path="appendix.html"><a href="appendix.html#question-1"><i class="fa fa-check"></i><b>8.4.2</b> Question</a></li>
<li class="chapter" data-level="8.4.3" data-path="appendix.html"><a href="appendix.html#question-2"><i class="fa fa-check"></i><b>8.4.3</b> Question</a></li>
<li class="chapter" data-level="8.4.4" data-path="appendix.html"><a href="appendix.html#question-3"><i class="fa fa-check"></i><b>8.4.4</b> Question</a></li>
<li class="chapter" data-level="8.4.5" data-path="appendix.html"><a href="appendix.html#question-4"><i class="fa fa-check"></i><b>8.4.5</b> Question</a></li>
<li class="chapter" data-level="8.4.6" data-path="appendix.html"><a href="appendix.html#question-5"><i class="fa fa-check"></i><b>8.4.6</b> Question</a></li>
<li class="chapter" data-level="8.4.7" data-path="appendix.html"><a href="appendix.html#question-6"><i class="fa fa-check"></i><b>8.4.7</b> Question</a></li>
<li class="chapter" data-level="8.4.8" data-path="appendix.html"><a href="appendix.html#question-7"><i class="fa fa-check"></i><b>8.4.8</b> Question</a></li>
<li class="chapter" data-level="8.4.9" data-path="appendix.html"><a href="appendix.html#question-8"><i class="fa fa-check"></i><b>8.4.9</b> Question</a></li>
<li class="chapter" data-level="8.4.10" data-path="appendix.html"><a href="appendix.html#question-9"><i class="fa fa-check"></i><b>8.4.10</b> Question</a></li>
<li class="chapter" data-level="8.4.11" data-path="appendix.html"><a href="appendix.html#question-10"><i class="fa fa-check"></i><b>8.4.11</b> Question</a></li>
<li class="chapter" data-level="8.4.12" data-path="appendix.html"><a href="appendix.html#question-11"><i class="fa fa-check"></i><b>8.4.12</b> Question</a></li>
<li class="chapter" data-level="8.4.13" data-path="appendix.html"><a href="appendix.html#question-12"><i class="fa fa-check"></i><b>8.4.13</b> Question</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="appendix.html"><a href="appendix.html#create-column"><i class="fa fa-check"></i><b>8.5</b> Create Column</a></li>
<li class="chapter" data-level="8.6" data-path="appendix.html"><a href="appendix.html#factor"><i class="fa fa-check"></i><b>8.6</b> Factor Function: factor()</a></li>
<li class="chapter" data-level="8.7" data-path="appendix.html"><a href="appendix.html#coerce"><i class="fa fa-check"></i><b>8.7</b> Coercing Values in data frames</a></li>
<li class="chapter" data-level="8.8" data-path="appendix.html"><a href="appendix.html#merge"><i class="fa fa-check"></i><b>8.8</b> Merging Two Relational Data Frames.</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="appendix.html"><a href="appendix.html#inner-join"><i class="fa fa-check"></i><b>8.8.1</b> Inner Join</a></li>
<li class="chapter" data-level="8.8.2" data-path="appendix.html"><a href="appendix.html#full-join"><i class="fa fa-check"></i><b>8.8.2</b> Full Join</a></li>
<li class="chapter" data-level="8.8.3" data-path="appendix.html"><a href="appendix.html#left-join"><i class="fa fa-check"></i><b>8.8.3</b> Left Join</a></li>
<li class="chapter" data-level="8.8.4" data-path="appendix.html"><a href="appendix.html#right-join"><i class="fa fa-check"></i><b>8.8.4</b> Right Join</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="appendix.html"><a href="appendix.html#sliceanddice"><i class="fa fa-check"></i><b>8.9</b> Slicing and Dicing.</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="appendix.html"><a href="appendix.html#dicing"><i class="fa fa-check"></i><b>8.9.1</b> Subsetting on Columns ( DICING )</a></li>
<li class="chapter" data-level="8.9.2" data-path="appendix.html"><a href="appendix.html#slicing"><i class="fa fa-check"></i><b>8.9.2</b> Subsetting on Rows ( SLICING )</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="appendix.html"><a href="appendix.html#group-by"><i class="fa fa-check"></i><b>8.10</b> Group By</a></li>
<li class="chapter" data-level="8.11" data-path="appendix.html"><a href="appendix.html#handling-date-and-time-in-dataframes."><i class="fa fa-check"></i><b>8.11</b> Handling Date and Time in dataframes.</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DATA 101 Shortest Textbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="classification" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Data Modeling and Prediction techniques for Classification.</h1>
<script src="files/js/dcl.js"></script>
<div id="decisiontree" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Decision Tree.</h2>
<p>Decision trees are one of the most powerful and popular tools for classification and prediction. The reason decision trees are very popular is that they can generate rules which are easier to understand as compared to other models. They require much less computations for performing modeling and prediction. Both continuous/numerical and categorical variables are handled easily while creating the decision trees.</p>
<hr />
</div>
<div id="rpart" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Use of Rpart</h2>
<p>Recursive Partitioning and Regression Tree <code>RPART</code> library is a collection of routines which implement Classification and Regression Tree (CART) which is a type of Decision Tree.The resulting model can be represented as a binary tree.</p>
<p>The library associated with this <code>RPART</code> is called <code>rpart</code>. Install this library using <code>install.packages("rpart")</code>.</p>
<p>Syntax for building the decision tree using rpart():</p>
<ul>
<li><code>rpart( formula , method, data, control,...)</code>
<ul>
<li><em>formula</em>: here we mention the prediction column and the other related columns(predictors) on which the prediction will be based on.
<ul>
<li><code>prediction ~ predictor1 + predictor2 + predictor3 + ...</code></li>
</ul></li>
<li><em>method</em>: here we describe the type of decision tree we want. If nothing is provided, the function makes an intelligent guess. We can use “anova” for regression, “class” for classification, etc.</li>
<li><em>data</em>: here we provide the dataset on which we want to fit the decision tree on.</li>
<li><em>control</em>: here we provide the control parameters for the decision tree. Explained more in detail in the section further in this chapter.</li>
</ul></li>
</ul>
<p>For more info on the rpart function visit <a href="https://www.rdocumentation.org/packages/rpart/versions/4.1-15/topics/rpart">rpart documentation</a></p>
<p>Lets look at an example on the Moody 2019 dataset.</p>
<ul>
<li>We will use the rpart() function with the following inputs:
<ul>
<li>prediction -&gt; GRADE</li>
<li>predictors -&gt; SCORE, ON_SMARTPHONE, ASKS_QUESTIONS, LEAVES_EARLY, LATE_IN_CLASS</li>
<li>data -&gt; moody dataset</li>
<li>method -&gt; “class” for classification.</li>
</ul></li>
</ul>
<div data-datacamp-exercise="" data-height="700" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJsaWJyYXJ5KHJwYXJ0KVxubW9vZHkgPC0gcmVhZC5jc3YoXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGVlcGxva2hhbmRlL2RhdGExMDFkZW1vYm9vay9tYWluL2ZpbGVzL2RhdGFzZXQvTU9PRFktMjAxOS5jc3ZcIilcblxuIyBVc2Ugb2YgdGhlIHJwYXJ0KCkgZnVuY3Rpb24uXG5ycGFydChHUkFERSB+IFNDT1JFK09OX1NNQVJUUEhPTkUrQVNLU19RVUVTVElPTlMrTEVBVkVTX0VBUkxZK0xBVEVfSU5fQ0xBU1MsIGRhdGEgPSBtb29keVssLWMoMSldLG1ldGhvZCA9IFwiY2xhc3NcIikifQ==
</div>
<p>We can see that the output of the rpart() function is the decision tree with details of,</p>
<ul>
<li>node -&gt; node number</li>
<li>split -&gt; split conditions/tests</li>
<li>n -&gt; number of records in either branch i.e. subset</li>
<li>yval -&gt; output value i.e. the target predicted value.</li>
<li>yprob -&gt; probability of obtaining a particular category as the predicted output.</li>
</ul>
<p>Using the output tree, we can use the predict function to predict the grades of the test data. We will look at this process later in section <a href="classification.html#rpartpredict">4.5</a></p>
<p>But coming back to the output of the rpart() function, the text type output is useful but difficult to read and understand, right! We will look at visualizing the decision tree in the next section.</p>
<hr />
</div>
<div id="rpartplot" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Visualize the Decision tree</h2>
<p>To visualize and understand the rpart() tree output in the easiest way possible, we use a library called <code>rpart.plot</code>. The function <code>rpart.plot()</code> of the rpart.plot library is the function used to visualize decision trees.</p>
<p>The <code>rpart.plot</code> library is a front-end wrapper to the library <code>prp</code> which is the most basic library for plotting decision trees. <code>prp</code> allows various aesthetic modifications for visualizing the decision tree. We will look at a few examples of using <code>prp</code> below.</p>
<p>But, first lets look at a example to visualize the output decision tree in the previous example on Moody dataset using <code>rpart.plot()</code></p>
<p><em>NOTE</em>: The online runnable code block does not support <code>rpart.plot and prp</code> library and functions, thus the output of the following code examples are provided directly.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="classification.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First lets import the rpart library</span></span>
<span id="cb4-2"><a href="classification.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb4-3"><a href="classification.html#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="classification.html#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Import dataset</span></span>
<span id="cb4-5"><a href="classification.html#cb4-5" aria-hidden="true" tabindex="-1"></a>moody <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/dataset/MOODY-2019.csv&quot;</span>)</span>
<span id="cb4-6"><a href="classification.html#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="classification.html#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use of the rpart() function.</span></span>
<span id="cb4-8"><a href="classification.html#cb4-8" aria-hidden="true" tabindex="-1"></a>tree <span class="ot">&lt;-</span> <span class="fu">rpart</span>(GRADE <span class="sc">~</span> SCORE<span class="sc">+</span>ON_SMARTPHONE<span class="sc">+</span>ASKS_QUESTIONS<span class="sc">+</span>LEAVES_EARLY<span class="sc">+</span>LATE_IN_CLASS, <span class="at">data =</span> moody,<span class="at">method =</span> <span class="st">&quot;class&quot;</span>)</span>
<span id="cb4-9"><a href="classification.html#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="classification.html#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Now lets import the rpart.plot library to use the rpart.plot() function.</span></span>
<span id="cb4-11"><a href="classification.html#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart.plot)</span>
<span id="cb4-12"><a href="classification.html#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="classification.html#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Use of the rpart.plot() function  to visualize the decision tree.</span></span>
<span id="cb4-14"><a href="classification.html#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">rpart.plot</span>(tree)</span></code></pre></div>
<div class="figure">
<img src="https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/img/modeling/rpartplot1.svg" alt="" />
<p class="caption">Output Plot of <em>rpart.plot()</em> function</p>
</div>
<p>We can see that after plotting the tree using rpart.plot() function, the tree is more readable and provides better information about the splitting conditions, and the probability of outcomes. Each leaf node has information about</p>
<ul>
<li>the grade category.</li>
<li>the outcome probability of each grade category.</li>
<li>the records percentage out of total records.</li>
</ul>
<p>To study more in detail the arguments that can be passed to the rpart.plot() function, please look at these guides <a href="https://www.rdocumentation.org/packages/rpart.plot/versions/3.0.9/topics/rpart.plot">rpart.plot</a> and <a href="http://www.milbo.org/doc/prp.pdf">Plotting with rpart.plot (PDF)</a></p>
<p>Note that for any beginner using rpart.plot() function is the easiest way. But if you want to learn another way of plotting rpart trees then the following function can be used.</p>
<p>So,another form of plotting rpart trees in a very minimalistic way is using the <code>plot rpart i.e. prp()</code> function, which is actually the working function behind rpart.plot().</p>
<p>Lets look at a same example like above but using prp().</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="classification.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First lets import the rpart library</span></span>
<span id="cb5-2"><a href="classification.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart)</span>
<span id="cb5-3"><a href="classification.html#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="classification.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Import dataset</span></span>
<span id="cb5-5"><a href="classification.html#cb5-5" aria-hidden="true" tabindex="-1"></a>moody <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/dataset/MOODY-2019.csv&quot;</span>)</span>
<span id="cb5-6"><a href="classification.html#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="classification.html#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use of the rpart() function.</span></span>
<span id="cb5-8"><a href="classification.html#cb5-8" aria-hidden="true" tabindex="-1"></a>tree <span class="ot">&lt;-</span> <span class="fu">rpart</span>(GRADE <span class="sc">~</span> SCORE<span class="sc">+</span>ON_SMARTPHONE<span class="sc">+</span>ASKS_QUESTIONS<span class="sc">+</span>LEAVES_EARLY<span class="sc">+</span>LATE_IN_CLASS, <span class="at">data =</span> moody[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)],<span class="at">method =</span> <span class="st">&quot;class&quot;</span>)</span>
<span id="cb5-9"><a href="classification.html#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="classification.html#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Now lets import the rpart.plot library to use the rpart.plot() function.</span></span>
<span id="cb5-11"><a href="classification.html#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rpart.plot)</span>
<span id="cb5-12"><a href="classification.html#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="classification.html#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Use of the prp function  to visualize the decision tree.</span></span>
<span id="cb5-14"><a href="classification.html#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="fu">prp</span>(tree)</span></code></pre></div>
<div class="figure">
<img src="https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/img/modeling/prp1.svg" alt="" />
<p class="caption">Output Plot of <em>prp()</em> function</p>
</div>
<p>We can see that the output of the prp() function is a very minimalist tree, without any colors with minimum required information. There are other arguments that can be passed to the prp() function to increase the aesthetic look and the information provided. To learn those extra arguments visit this guide <a href="https://www.rdocumentation.org/packages/rpart.plot/versions/3.0.9/topics/prp">prp()</a></p>
<table>
<tbody>
<tr class="odd">
<td><strong>NOTE</strong>: In this chapter, from this point forward, the rpart.plots() generated in any example below will be shown as images, and also the code to generate those rpart.plots will be commented in the interactive code blocks. If you want to generate these plots yourself, please use a local Rstudio or R environment.</td>
</tr>
</tbody>
</table>
</div>
<div id="rpartcontrol" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Rpart Control</h2>
<p>Now let’s look at the rpart.control() function used to pass the control parameters to the control argument of the rpart() function.</p>
<ul>
<li><code>rpart.control( *minsplit*, *minbucket*, *cp*,...)</code></li>
<li><em>minsplit</em>: the minimum number of observations that must exist in a node in order for a split to be attempted. For example, minsplit=500 -&gt; the minimum number of observations in a node must be 500 or up, in order to perform the split at the testing condition.</li>
<li><em>minbucket</em>: minimum number of observations in any terminal(leaf) node. For example, minbucket=500 -&gt; the minimum number of observation in the terminal/leaf node of the trees must be 500 or above.<br />
</li>
<li><em>cp</em>: complexity parameter. Using this informs the program that any split which does not increase the accuracy of the fit by <em>cp</em>, will not be made in the tree.</li>
</ul>
<p>For more information of the other arguments of the <code>rpart.control()</code> function visit <a href="https://www.rdocumentation.org/packages/rpart/versions/4.1-15/topics/rpart.control">rpart.control</a></p>
<p>Note: The ratio of minsplt to minbucket is 3:1. Thus if only one of the minsplit/minbucket is provided the other value is set using the above ratio. Also if both values are provided, unless the values are not in the above ratio, the rpart.control() the resorts to the default value. Also note, the default value of cp is <code>0.01</code>.</p>
<p>Let look at few examples.</p>
<p>Suppose you want to set the control parameter minsplit=200.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiIjIGxpYnJhcnkocnBhcnQpXG5tb29keSA8LSByZWFkLmNzdihcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9kZWVwbG9raGFuZGUvZGF0YTEwMWRlbW9ib29rL21haW4vZmlsZXMvZGF0YXNldC9NT09EWS0yMDE5LmNzdlwiKVxuXG4jIFVzZSBvZiB0aGUgcnBhcnQoKSBmdW5jdGlvbiB3aXRoIHRoZSBjb250cm9sIHBhcmFtZXRlciBtaW5zcGxpdD0yMDBcbnRyZWUgPC0gcnBhcnQoR1JBREUgfiAuLCBkYXRhID0gbW9vZHlbLC1jKDEpXSxtZXRob2QgPSBcImNsYXNzXCIsY29udHJvbD1ycGFydC5jb250cm9sKG1pbnNwbGl0ID0gMjAwKSlcblxuIyBDaGVjayB0aGUgY291bnQgb2Ygb2JzZXJ2YXRpb24gYXQgZWFjaCBzcGxpdCB0ZXN0LiBUbyBkbyB0aGlzIHdlIGZpbmQgdGhlIGNvdW50IGF0IGVhY2ggbm9uLWxlYWYvbm9uLXRlcm1pbmFsIG5vZGUuXG50cmVlJGZyYW1lW3RyZWUkZnJhbWUkdmFyIT1cIjxsZWFmPlwiLGMoXCJ2YXJcIixcIm5cIildXG5cbiMgbGlicmFyeShycGFydC5wbG90KVxuIyBycGFydC5wbG90KHRyZWUsZXh0cmEgPSAyKSJ9
</div>
<div class="figure">
<img src="https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/img/modeling/rcontrolsplit.svg" alt="" />
<p class="caption">Output tree plot of after setting minsplit=200 in rpart.control() function</p>
</div>
<p>We can see from the output of <code>tree$splits</code> and the tree plot, that at each split the total amount of observations are above 200. Also, in comparison to the tree without control, the tree with control has lower height, and lesser count of splits.</p>
<p>Now, lets set the minbucket parameter to 100, and see how that affects the tree parameters.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJsaWJyYXJ5KHJwYXJ0KVxubW9vZHkgPC0gcmVhZC5jc3YoXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGVlcGxva2hhbmRlL2RhdGExMDFkZW1vYm9vay9tYWluL2ZpbGVzL2RhdGFzZXQvTU9PRFktMjAxOS5jc3ZcIilcblxuIyBVc2Ugb2YgdGhlIHJwYXJ0KCkgZnVuY3Rpb24gd2l0aCB0aGUgY29udHJvbCBwYXJhbWV0ZXIgbWluc3BsaXQ9MjAwXG50cmVlIDwtIHJwYXJ0KEdSQURFIH4gLiwgZGF0YSA9IG1vb2R5WywtYygxKV0sbWV0aG9kID0gXCJjbGFzc1wiLGNvbnRyb2w9cnBhcnQuY29udHJvbChtaW5idWNrZXQgPSAxMDApKVxuXG4jIENoZWNrIHRoZSBjb3VudCBvZiBvYnNlcnZhdGlvbiBpbiBlYWNoIGxlYWYgbm9kZS5cbnRyZWUkZnJhbWVbdHJlZSRmcmFtZSR2YXI9PVwiPGxlYWY+XCIsYyhcInZhclwiLFwiblwiKV1cblxuIyBsaWJyYXJ5KHJwYXJ0LnBsb3QpXG4jIHJwYXJ0LnBsb3QodHJlZSxleHRyYSA9IDIpIn0=
</div>
<div class="figure">
<img src="https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/img/modeling/rcontrolbucket.svg" alt="" />
<p class="caption">Output tree plot of after setting minbucket=100 in rpart.control() function</p>
</div>
<p>We can see for the output and the tree plot, that the count of observations in each leaf node is greater than 100. Also, the tree height has shortened, suggesting that the control method was able to shorten the tree size.</p>
<p>Lets now use the <code>cp</code> parameter and see its effect on the tree.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJsaWJyYXJ5KHJwYXJ0KVxubW9vZHkgPC0gcmVhZC5jc3YoXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGVlcGxva2hhbmRlL2RhdGExMDFkZW1vYm9vay9tYWluL2ZpbGVzL2RhdGFzZXQvTU9PRFktMjAxOS5jc3ZcIilcblxuIyBVc2Ugb2YgdGhlIHJwYXJ0KCkgZnVuY3Rpb24gd2l0aCB0aGUgY29udHJvbCBwYXJhbWV0ZXIgY3A9MC4wMDVcbnRyZWUgPC0gcnBhcnQoR1JBREUgfiAuLCBkYXRhID0gbW9vZHlbLC1jKDEpXSxtZXRob2QgPSBcImNsYXNzXCIsY29udHJvbD1ycGFydC5jb250cm9sKGNwID0gMC4wMDUpKVxuXG4jIENoZWNrIHRoZSBhY2N1cmFjeSBpbmNyZWFzZSBmYWN0b3IgYXQgZWFjaCBzcGxpdC5cbnRyZWUkY3B0YWJsZVxuXG4jIGxpYnJhcnkocnBhcnQucGxvdCkpXG4jIHJwYXJ0LnBsb3QodHJlZSkifQ==
</div>
<div class="figure">
<img src="https://raw.githubusercontent.com/deeplokhande/data101demobook/main/files/img/modeling/rcontrolcp.svg" alt="" />
<p class="caption">Output tree plot of after setting cp=0.005 in rpart.control() function</p>
</div>
<p>We can see for the output and the tree plot, that the tree size has increased, with increase in number of splits, and leaf nodes. Also we can see that the minimum CP value in the output is 0.005.</p>
<hr />
</div>
<div id="rpartpredict" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Prediction using rpart.</h2>
<p>Now that we have seen the process to create a decision tree and also plot it, we will like to use the output tree to predict the required attribute.</p>
<p>From the moody example, we are trying to predict the grade of students. Lets look at the <code>predict()</code> function to predict the outcomes.</p>
<ul>
<li><code>predict(*object*,*data*,*type*,...)</code>
<ul>
<li><em>object</em>: the generated tree from the rpart function.</li>
<li><em>data</em>: the data on which the prediction is to be performed.</li>
<li><em>type</em>: the type of prediction required. One of “vector”, “prob”, “class” or “matrix”.</li>
</ul></li>
</ul>
<p>Now lets use the predict function to predict the grades of students using the tree generated on the Moody dataset.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiIjIEZpcnN0IGxldHMgaW1wb3J0IHRoZSBycGFydCBsaWJyYXJ5XG5saWJyYXJ5KHJwYXJ0KVxuXG4jIEltcG9ydCBkYXRhc2V0XG5tb29keSA8LSByZWFkLmNzdihcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9kZWVwbG9raGFuZGUvZGF0YTEwMWRlbW9ib29rL21haW4vZmlsZXMvZGF0YXNldC9NT09EWS0yMDE5LmNzdlwiKVxuXG4jIFVzZSBvZiB0aGUgcnBhcnQoKSBmdW5jdGlvbi5cbnRyZWUgPC0gcnBhcnQoR1JBREUgfiBTQ09SRStPTl9TTUFSVFBIT05FK0FTS1NfUVVFU1RJT05TK0xFQVZFU19FQVJMWStMQVRFX0lOX0NMQVNTLCBkYXRhID0gbW9vZHlbLC1jKDEpXSxtZXRob2QgPSBcImNsYXNzXCIpXG5cbiMgTm93IGxldHMgcHJlZGljdCB0aGUgR3JhZGVzIG9mIHRoZSBNb29keSBEYXRhc2V0LlxucHJlZCA8LSBwcmVkaWN0KHRyZWUsIG1vb2R5LCB0eXBlPVwiY2xhc3NcIilcbmhlYWQocHJlZCkifQ==
</div>
<p>Our prediction accuracy on the training data set is 93.73% and the error rate is 6.27%.This prediction accuracy calculated on the training dataset is called training accuracy. However, what we are really interested in is testing data accuracy. How can we make sure that our prediction model will achieve good testing data accuracy? It is not enough to see good training data accuracy. We need to do more work. It is called cross validation.Use only part of the training data for training the prediction model and the remaining part for testing. For that we would need to split the training data at least into two parts, Training and Testing and then repeat the training process on the training dataset and the prediction on testing dataset.</p>
<p>One way of doing this is to randomly assign data to either training or testing subset. We will look at a small example of splitting the complete dataset into training and testing dataset with a 70-30 ratio.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiIjIEZpcnN0IGxldHMgaW1wb3J0IHRoZSBycGFydCBsaWJyYXJ5XG5saWJyYXJ5KHJwYXJ0KVxuXG4jIEltcG9ydCBkYXRhc2V0XG5tb29keSA8LSByZWFkLmNzdihcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9kZWVwbG9raGFuZGUvZGF0YTEwMWRlbW9ib29rL21haW4vZmlsZXMvZGF0YXNldC9NT09EWS0yMDE5LmNzdlwiKVxuXG4jIFVzZSBvZiB0aGUgcnBhcnQoKSBmdW5jdGlvbi5cbnRyZWUgPC0gcnBhcnQoR1JBREUgfiBTQ09SRStPTl9TTUFSVFBIT05FK0FTS1NfUVVFU1RJT05TK0xFQVZFU19FQVJMWStMQVRFX0lOX0NMQVNTLCBkYXRhID0gbW9vZHlbLC1jKDEpXSxtZXRob2QgPSBcImNsYXNzXCIpXG5cbiMgTm93IGxldHMgcHJlZGljdCB0aGUgR3JhZGVzIG9mIHRoZSBNb29keSBEYXRhc2V0LlxucHJlZCA8LSBwcmVkaWN0KHRyZWUsIG1vb2R5LCB0eXBlPVwiY2xhc3NcIilcbmhlYWQocHJlZClcblxuIyBMZXRzIGNoZWNrIHRoZSBjb3JyZWN0bmVzcyBvZiBlYWNoIHByZWRpY3Rpb24gZm9yIGVhY2ggcmVjb3JkXG5tZWFuKG1vb2R5JEdSQURFPT1wcmVkKSoxMDAifQ==
</div>
<hr />
</div>
<div id="splitdata" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Split the data yourself.</h2>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiIjIEltcG9ydCBkYXRhc2V0XG5tb29keSA8LSByZWFkLmNzdihcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9kZWVwbG9raGFuZGUvZGF0YTEwMWRlbW9ib29rL21haW4vZmlsZXMvZGF0YXNldC9NT09EWS0yMDE5LmNzdlwiKVxuXG4jIFNwbGl0IHJhbmRvbWx5IGludG8gMiBzZXRzIHdpdGggY2VydGFpbiByYXRpby9wcm9iYWJpbGl0eS5cbmlkeCA8LSBzYW1wbGUoIDE6Miwgc2l6ZSA9IG5yb3cobW9vZHkpLCByZXBsYWNlID0gVFJVRSwgcHJvYiA9IGMoLjcsIC4zKSlcbm1vb2R5LnRyYWluIDwtIG1vb2R5W2lkeCA9PSAxLF1cbm1vb2R5LnRlc3QgPC0gbW9vZHlbaWR4ID09IDIsXVxuXG5ucm93KG1vb2R5KVxubnJvdyhtb29keS50cmFpbilcbm5yb3cobW9vZHkudHJhaW4pL25yb3cobW9vZHkpXG5ucm93KG1vb2R5LnRlc3QpXG5ucm93KG1vb2R5LnRlc3QpL25yb3cobW9vZHkpIn0=
</div>
<p>As we can see we split the original data with 1580 rows into two dataset, training data with almost 70% of rows of the original, and testing data with almost 30% of the original. Notice that we used a random sampling of the data, and not just sequential, to avoid any unbalanced distribution of attributes.</p>
<p>Now, we looked at a method to split the dataset into training and testing data. But there is another type of splitting of the dataset which involves splitting the data into 3 parts namely, training, cross-validation and testing. We will look at the use of cross-validation and the process, in the next section <a href="classification.html#crossvalidation">4.7</a>.</p>
<p>Typically, the ratio of train-validation-test is 60-20-20 or 50-25-25.</p>
<p>Before that lets look at a simple method to perform a 3 way split with ratio 60-20-20.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiIjIEltcG9ydCBkYXRhc2V0XG5tb29keSA8LSByZWFkLmNzdihcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9kZWVwbG9raGFuZGUvZGF0YTEwMWRlbW9ib29rL21haW4vZmlsZXMvZGF0YXNldC9NT09EWS0yMDE5LmNzdlwiKVxuXG4jIFNwbGl0IHJhbmRvbWx5IGludG8gMyBzZXRzIHdpdGggY2VydGFpbiByYXRpby9wcm9iYWJpbGl0eS5cbmlkeCA8LSBzYW1wbGUoIDE6Mywgc2l6ZSA9IG5yb3cobW9vZHkpLCByZXBsYWNlID0gVFJVRSwgcHJvYiA9IGMoMC42LCAwLjIsIDAuMikpXG5tb29keS50cmFpbiA8LSBtb29keVtpZHggPT0gMSxdXG5tb29keS52YWxpZGF0aW9uIDwtIG1vb2R5W2lkeCA9PSAyLF1cbm1vb2R5LnRlc3QgPC0gbW9vZHlbaWR4ID09IDMsXVxuXG5ucm93KG1vb2R5KVxubnJvdyhtb29keS50cmFpbilcbm5yb3cobW9vZHkudHJhaW4pL25yb3cobW9vZHkpXG5ucm93KG1vb2R5LnZhbGlkYXRpb24pXG5ucm93KG1vb2R5LnZhbGlkYXRpb24pL25yb3cobW9vZHkpXG5ucm93KG1vb2R5LnRlc3QpXG5ucm93KG1vb2R5LnRlc3QpL25yb3cobW9vZHkpIn0=
</div>
<p>We can see that the dataset is split into 3 parts, with 60% in training data, 20% in validation data, and 20% in testing data.</p>
<p>In general, this process of repetitively using subsets of training data for training and testing is called cross validation.</p>
<hr />
</div>
<div id="crossvalidation" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Cross Validation</h2>
<p>The goal of cross-validation is to test the model’s ability to predict new data that was not used in estimating/training it, in order to avoid problems like overfitting and selection bias, and to give an insight on how the model will generalize to an independent dataset(i.e., an unknown dataset).</p>
<p>Cross-validation also helps in selecting and fine-tuning the hyper-parameters of the models. In our case of the decision tree, the hyper parameters could be the control parameters that determine the size of the decision tree, which in-turn determines the accuracy of the tree.</p>
<p>One round of cross-validation involves partitioning data into complementary subsets, and then performing model training on one subset, and validating the results on the other subset. In most methods, multiple rounds of cross-validation are performed using different partitions in each round, and the validation results are combined (e.g. averaged) over the rounds to give an estimate of the model’s predictive performance.</p>
<p>Another use of cross-validation is when you don’t have the test data, and hence, you don’t have a way to determine the true accuracy of the model. Because we cannot determine accuracy on the test dataset, we partition our training dataset into training and validation (testing). We train our model (rpart or lm) on the train partition and test on the validation partition. The accuracy on the validation data is called cross-validation accuracy, while that on the train data is called training accuracy.</p>
<p>Lets not dive too deep into the theory of this cross validation technique, but lets learn about the cross_validate() function, that helps us achieve this.</p>
<ul>
<li><code>cross_validate(*data*, *tree*, *n_iter*, *split_ratio*, *method*)</code>
<ul>
<li><em>data</em>: The dataset on which cross validation is to be performed.</li>
<li><em>tree</em>: The decision tree generated using rpart.</li>
<li><em>n_iter</em>: Number of iterations.</li>
<li><em>split_ratio</em>: The splitting ratio of the data into train data and validation data.</li>
<li><em>method</em>: Method of the prediction. “class” for classification.</li>
</ul></li>
</ul>
<p>The way the function works is as follows:</p>
<ul>
<li>It randomly partitions your data into training and validation.</li>
<li>It then constructs the following two decision trees on training partition:
<ul>
<li>The tree that you pass to the function.</li>
<li>The tree is constructed on all attributes as predictors and with no control parameters.
-It then determines the accuracy of the two trees on validation partition and returns you the accuracy values for both the trees.</li>
</ul></li>
</ul>
<p>The first column corresponds to the cross-validation accuracy on the tree that you pass; the second is the cross-validation accuracy on the tree without any control and all attributes.</p>
<p>The values in the first column(accuracy_subset) returned by cross-validation function are more important when it comes to detecting overfitting. If these values are much lower than the training accuracy you get, that means you are overfitting.</p>
<p>We would also want the values in accuracy_subset to be close to each other (in other words, have low variance). If the values are quite different from each other, that means your model (or tree) has a high variance which is not desired.</p>
<p>The second column(accuracy_all) tells you what happens if you construct a tree based on all attributes. If these values are larger than accuracy_subset, that means you are probably leaving out attributes from your tree that are relevant.</p>
<p>Each iteration of cross-validation creates a different random partition of train and validation, and so you have possibly different accuracy values for every iteration.</p>
<p>Let’s look at the cross_validate() function in action in the example below.</p>
<p>We will pass the tree with formula as <code>GRADE ~ SCORE+ON_SMARTPHONE+LEAVES_EARLY</code>, and control parameter, with <code>minsplit=100</code>.
And for cross_validate() function, we will use<code>n_iter=5, and split_raitio=0.7</code></p>
<p><em>NOTE</em>: Cross-Validation repository is already preloaded for the following interactive code block. Thus you can directly use the cross_validate() function in the following interactive code block. But if you wish to use the code_validate() function locally, please use</p>
<pre><code>install.packages(&quot;devtools&quot;) 
devtools::install_github(&quot;devanshagr/CrossValidation&quot;)
CrossValidation::cross_validate()</code></pre>
<div data-datacamp-exercise="" data-height="700" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6ImxpYnJhcnkoXCJycGFydFwiKVxuXG5jcm9zc192YWxpZGF0ZSA8LSBmdW5jdGlvbihkZiwgdHJlZSwgbl9pdGVyLCBzcGxpdF9yYXRpbywgbWV0aG9kID0gJ2NsYXNzJylcbntcbiAgIyB0cmFpbmluZyBkYXRhIGZyYW1lIGRmXG4gIGRmIDwtIGFzLmRhdGEuZnJhbWUoZGYpXG5cbiAgIyBtZWFuX3N1YnNldCBpcyBhIHZlY3RvciBvZiBhY2N1cmFjeSB2YWx1ZXMgZ2VuZXJhdGVkIGZyb20gdGhlIHNwZWNpZmllZCBmZWF0dXJlcyBpbiB0aGUgdHJlZSBvYmplY3RcbiAgbWVhbl9zdWJzZXQgPC0gYygpXG5cbiAgIyBtZWFuX2FsbCBpcyBhIHZlY3RvciBvZiBhY2N1cmFjeSB2YWx1ZXMgZ2VuZXJhdGVkIGZyb20gYWxsIHRoZSBhdmFpbGFibGUgZmVhdHVyZXMgaW4gdGhlIGRhdGEgZnJhbWVcbiAgbWVhbl9hbGwgPC0gYygpXG5cbiAgIyBjb250cm9sIHBhcmFtZXRlcnMgZm9yIHRoZSBkZWNpc2lvbiB0cmVlXG4gIGNvbnRybyA9IHRyZWUkY29udHJvbFxuXG4gICMgdGhlIGZvbGxvd2luZyBzbmlwcGV0IHdpbGwgY3JlYXRlIHJlbGF0aW9ucyB0byBnZW5lcmF0ZSBkZWNpc2lvbiB0cmVlc1xuICAjIHJlbGF0aW9uX2FsbCB3aWxsIGNyZWF0ZSBhIGRlY2lzaW9uIHRyZWUgd2l0aCBhbGwgdGhlIGZlYXR1cmVzXG4gICMgcmVsYXRpb25fc3Vic2V0IHdpbGwgY3JlYXRlIGEgZGVjaXNpb24gdHJlZSB3aXRoIG9ubHkgdXNlci1zcGVjaWZpZWQgZmVhdHVyZXMgaW4gdHJlZVxuICBkZXAgPC0gYWxsLnZhcnModGVybXModHJlZSkpWzFdXG4gIGluZGVwIDwtIGxpc3QoKVxuICByZWxhdGlvbl9hbGwgPSBhcy5mb3JtdWxhKHBhc3RlKGRlcCwgJy4nLCBzZXAgPSBcIn5cIikpXG4gIGkgPC0gMVxuICB3aGlsZSAoaSA8IGxlbmd0aChhbGwudmFycyh0ZXJtcyh0cmVlKSkpKSB7XG4gICAgaW5kZXBbW2ldXSA8LSBhbGwudmFycyh0ZXJtcyh0cmVlKSlbaSArIDFdXG4gICAgaSA8LSBpICsgMVxuICB9XG4gIGIgPC0gcGFzdGUoaW5kZXAsIGNvbGxhcHNlID0gXCIrXCIpXG4gIHJlbGF0aW9uX3N1YnNldCA8LSBhcy5mb3JtdWxhKHBhc3RlKGRlcCwgYiwgc2VwID0gXCJ+XCIpKVxuXG4gICMgY3JlYXRpbmcgdHJhaW4gYW5kIHRlc3Qgc2FtcGxlcyB3aXRoIHRoZSBnaXZlbiBzcGxpdCByYXRpb1xuICAjIHBlcmZvcm1pbmcgY3Jvc3MtdmFsaWRhdGlvbiBuX2l0ZXIgdGltZXNcbiAgZm9yIChpIGluIDE6bl9pdGVyKSB7XG4gICAgc2FtcGxlIDwtXG4gICAgICBzYW1wbGUuaW50KG4gPSBucm93KGRmKSxcbiAgICAgICAgICAgICAgICAgc2l6ZSA9IGZsb29yKHNwbGl0X3JhdGlvICogbnJvdyhkZikpLFxuICAgICAgICAgICAgICAgICByZXBsYWNlID0gRilcbiAgICB0cmFpbiA8LSBkZltzYW1wbGUsXVxuICAgIHRlc3RpbmcgIDwtIGRmWy1zYW1wbGUsXVxuICAgIHR5cGUgPSB0eXBlb2YodW5saXN0KHRlc3RpbmdbZGVwXSkpXG5cbiAgICAjIGRlY2lzaW9uIHRyZWUgZm9yIHJlZ3Jlc3Npb24gaWYgdGhlIG1ldGhvZCBzcGVjaWZpZWQgaXMgXCJhbm92YVwiXG4gICAgaWYgKG1ldGhvZCA9PSAnYW5vdmEnKSB7XG4gICAgICBmaXJzdC50cmVlIDwtXG4gICAgICAgIHJwYXJ0KFxuICAgICAgICAgIHJlbGF0aW9uX3N1YnNldCxcbiAgICAgICAgICBkYXRhID0gdHJhaW4sXG4gICAgICAgICAgY29udHJvbCA9IGNvbnRybyxcbiAgICAgICAgICBtZXRob2QgPSAnYW5vdmEnXG4gICAgICAgIClcbiAgICAgIHNlY29uZC50cmVlIDwtIHJwYXJ0KHJlbGF0aW9uX2FsbCwgZGF0YSA9IHRyYWluLCBtZXRob2QgPSAnYW5vdmEnKVxuICAgICAgcHJlZDEudHJlZSA8LSBwcmVkaWN0KGZpcnN0LnRyZWUsIG5ld2RhdGEgPSB0ZXN0aW5nKVxuICAgICAgcHJlZDIudHJlZSA8LSBwcmVkaWN0KHNlY29uZC50cmVlLCBuZXdkYXRhID0gdGVzdGluZylcbiAgICAgIG1lYW4xIDwtIG1lYW4oKGFzLm51bWVyaWMocHJlZDEudHJlZSkgLSB0ZXN0aW5nWywgZGVwXSkgXiAyKVxuICAgICAgbWVhbjIgPC0gbWVhbigoYXMubnVtZXJpYyhwcmVkMi50cmVlKSAtIHRlc3RpbmdbLCBkZXBdKSBeIDIpXG4gICAgICBtZWFuX3N1YnNldCA8LSBjKG1lYW5fc3Vic2V0LCBtZWFuMSlcbiAgICAgIG1lYW5fYWxsIDwtIGMobWVhbl9hbGwsIG1lYW4yKVxuICAgIH1cblxuICAgICMgZGVjaXNpb24gdHJlZSBmb3IgY2xhc3NpZmljYXRpb25cbiAgICAjIGlmIHRoZSBtZXRob2Qgc3BlY2lmaWVkIGlzIG5vdCBcImFub3ZhXCIsIHRoZW4gdGhpcyBibG9jayBpcyBleGVjdXRlZFxuICAgICMgaWYgdGhlIG1ldGhvZCBpcyBub3Qgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyLCB0aGUgZGVmYXVsdCBvcHRpb24gaXMgdG8gcGVyZm9ybSBjbGFzc2lmaWNhdGlvblxuICAgIGVsc2V7XG4gICAgICBmaXJzdC50cmVlIDwtXG4gICAgICAgIHJwYXJ0KFxuICAgICAgICAgIHJlbGF0aW9uX3N1YnNldCxcbiAgICAgICAgICBkYXRhID0gdHJhaW4sXG4gICAgICAgICAgY29udHJvbCA9IGNvbnRybyxcbiAgICAgICAgICBtZXRob2QgPSAnY2xhc3MnXG4gICAgICAgIClcbiAgICAgIHNlY29uZC50cmVlIDwtIHJwYXJ0KHJlbGF0aW9uX2FsbCwgZGF0YSA9IHRyYWluLCBtZXRob2QgPSAnY2xhc3MnKVxuICAgICAgcHJlZDEudHJlZSA8LSBwcmVkaWN0KGZpcnN0LnRyZWUsIG5ld2RhdGEgPSB0ZXN0aW5nLCB0eXBlID0gJ2NsYXNzJylcbiAgICAgIHByZWQyLnRyZWUgPC1cbiAgICAgICAgcHJlZGljdChzZWNvbmQudHJlZSwgbmV3ZGF0YSA9IHRlc3RpbmcsIHR5cGUgPSAnY2xhc3MnKVxuICAgICAgbWVhbjEgPC1cbiAgICAgICAgbWVhbihhcy5jaGFyYWN0ZXIocHJlZDEudHJlZSkgPT0gYXMuY2hhcmFjdGVyKHRlc3RpbmdbLCBkZXBdKSlcbiAgICAgIG1lYW4yIDwtXG4gICAgICAgIG1lYW4oYXMuY2hhcmFjdGVyKHByZWQyLnRyZWUpID09IGFzLmNoYXJhY3Rlcih0ZXN0aW5nWywgZGVwXSkpXG4gICAgICBtZWFuX3N1YnNldCA8LSBjKG1lYW5fc3Vic2V0LCBtZWFuMSlcbiAgICAgIG1lYW5fYWxsIDwtIGMobWVhbl9hbGwsIG1lYW4yKVxuICAgIH1cbiAgfVxuXG4gICMgYXZlcmFnZV9hY2N1cmFjeV9zdWJzZXQgaXMgdGhlIGF2ZXJhZ2UgYWNjdXJhY3kgb2Ygbl9pdGVyIGl0ZXJhdGlvbnMgb2YgY3Jvc3MtdmFsaWRhdGlvbiB3aXRoIHVzZXItc3BlY2lmaWVkIGZlYXR1cmVzXG4gICMgYXZlcmFnZV9hY3VyYWN5X2FsbCBpcyB0aGUgYXZlcmFnZSBhY2N1cmFjeSBvZiBuX2l0ZXIgaXRlcmF0aW9ucyBvZiBjcm9zcy12YWxpZGF0aW9uIHdpdGggYWxsIHRoZSBhdmFpbGFibGUgZmVhdHVyZXNcbiAgIyB2YXJpYW5jZV9hY2N1cmFjeV9zdWJzZXQgaXMgdGhlIHZhcmlhbmNlIG9mIGFjY3VyYWN5IG9mIG5faXRlciBpdGVyYXRpb25zIG9mIGNyb3NzLXZhbGlkYXRpb24gd2l0aCB1c2VyLXNwZWNpZmllZCBmZWF0dXJlc1xuICAjIHZhcmlhbmNlX2FjY3VyYWN5X2FsbCBpcyB0aGUgdmFyaWFuY2Ugb2YgYWNjdXJhY3kgb2Ygbl9pdGVyIGl0ZXJhdGlvbnMgb2YgY3Jvc3MtdmFsaWRhdGlvbiB3aXRoIGFsbCB0aGUgYXZhaWxhYmxlIGZlYXR1cmVzXG4gIGNyb3NzX3ZhbGlkYXRpb25fc3RhdHMgPC1cbiAgICBsaXN0KFxuICAgICAgXCJhdmVyYWdlX2FjY3VyYWN5X3N1YnNldFwiID0gbWVhbihtZWFuX3N1YnNldCwgbmEucm0gPSBUKSxcbiAgICAgIFwiYXZlcmFnZV9hY2N1cmFjeV9hbGxcIiA9IG1lYW4obWVhbl9hbGwsIG5hLnJtID0gVCksXG4gICAgICBcInZhcmlhbmNlX2FjY3VyYWN5X3N1YnNldFwiID0gdmFyKG1lYW5fc3Vic2V0LCBuYS5ybSA9IFQpLFxuICAgICAgXCJ2YXJpYW5jZV9hY2N1cmFjeV9hbGxcIiA9IHZhcihtZWFuX2FsbCwgbmEucm0gPSBUKVxuICAgIClcblxuICAjIGNyZWF0aW5nIGEgZGF0YSBmcmFtZSBvZiBhY2N1cmFjeV9zdWJzZXQgYW5kIGFjY3VyYWN5X2FsbFxuICAjIGFjY3VyYWN5X3N1YnNldCBjb250YWlucyBuX2l0ZXIgYWNjdXJhY3kgdmFsdWVzIG9uIGNyb3NzLXZhbGlkYXRpb24gd2l0aCB1c2VyLXNwZWNpZmllZCBmZWF0dXJlc1xuICAjIGFjY3VyYWN5X2FsbCBjb250YWlucyBuX2l0ZXIgYWNjdXJhY3kgdmFsdWVzIG9uIGNyb3NzLXZhbGlkYXRpb24gd2l0aCBhbGwgdGhlIGF2YWlsYWJsZSBmZWF0dXJlc1xuICBjcm9zc192YWxpZGF0aW9uX2RmIDwtXG4gICAgZGF0YS5mcmFtZShhY2N1cmFjeV9zdWJzZXQgPSBtZWFuX3N1YnNldCwgYWNjdXJhY3lfYWxsID0gbWVhbl9hbGwpXG4gIHJldHVybihsaXN0KGNyb3NzX3ZhbGlkYXRpb25fZGYsIGNyb3NzX3ZhbGlkYXRpb25fc3RhdHMpKVxufSIsInNhbXBsZSI6IiMgRmlyc3QgbGV0cyBpbXBvcnQgdGhlIHJwYXJ0IGxpYnJhcnlcbmxpYnJhcnkocnBhcnQpXG5cbiMgSW1wb3J0IGRhdGFzZXRcbm1vb2R5LnRyYWluIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2RlZXBsb2toYW5kZS9kYXRhMTAxZGVtb2Jvb2svbWFpbi9maWxlcy9kYXRhc2V0L01PT0RZLTIwMTkuY3N2XCIsc3RyaW5nc0FzRmFjdG9ycyA9IFQpXG5cbiMgVXNlIG9mIHRoZSBycGFydCgpIGZ1bmN0aW9uLlxudHJlZSA8LSBycGFydChHUkFERSB+IFNDT1JFK09OX1NNQVJUUEhPTkUrTEVBVkVTX0VBUkxZLCBkYXRhID0gbW9vZHkudHJhaW5bLC1jKDEpXSxtZXRob2QgPSBcImNsYXNzXCIsY29udHJvbCA9IHJwYXJ0LmNvbnRyb2wobWluc3BsaXQgPSAxMDApKVxuXG4jIE5vdyBsZXRzIHByZWRpY3QgdGhlIEdyYWRlcyBvZiB0aGUgTW9vZHkgRGF0YXNldC5cbnByZWQgPC0gcHJlZGljdCh0cmVlLCBtb29keS50cmFpbiwgdHlwZT1cImNsYXNzXCIpXG5oZWFkKHByZWQpXG5cbiMgTGV0cyBjaGVjayB0aGUgVHJhaW5pbmcgQWNjdXJhY3lcbm1lYW4obW9vZHkudHJhaW4kR1JBREU9PXByZWQpXG5cbiMgTGV0cyB1cyB0aGUgY3Jvc3NfdmFsaWRhdGUoKSBmdW5jdGlvbi5cbmNyb3NzX3ZhbGlkYXRlKG1vb2R5LnRyYWluLHRyZWUsNSwwLjcpIn0=
</div>
<p><em>NOTE</em>: If you encounter error while running the cross-validation function that said “new levels encountered” in test, make sure the dataset is imported again with read.csv() attribute <code>stringsAsFactors</code> as <code>TRUE or T</code>. For more information about the inner-working of the cross_validate() function visit <a href="https://github.com/devanshagr/CrossValidation/blob/master/R/cross_validation.R">cross_validate()</a></p>
<p>We can see in the output the Training accuracy, the table of cross-validation accuracy at each iteration for both the passed tree and the tree on all attribute and also their averages and variances.</p>
<p>Few Observation from the selected example above are:</p>
<ul>
<li>For the tree passed with selected attributes and some control parameters, the cross-validation accuracy’s (i.e. accuracy values in the <code>accuracy_subset</code> column) are fairly high for all iterations and have very low variance.</li>
<li>They are close to the training accuracy which indicates we are not overfitting.</li>
<li>Observe that the accuracy at each iteration of the accuracy_subset and accuracy_all column are relatively, close but not exact, suggesting that there are more attributes or other control parameters that can be included to the passed tree, to further increase the accuracy, thus closing the gap.</li>
</ul>
<p>Thus using cross-validation we were able to figure out with certainty, that the passed tree, is not the best tree that can be created using the training data. Also, we saw whether the generated tree overfits the training data or not.</p>
<hr />
<p>EOC</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="stateval.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdemo.html"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
